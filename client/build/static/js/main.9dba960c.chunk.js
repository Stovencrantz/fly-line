(this["webpackJsonpfly-line"]=this["webpackJsonpfly-line"]||[]).push([[0],{144:function(e,t,a){},175:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),i=a(13),s=a.n(i),o=(a(144),a(12)),l=a(16),d=a(254),u=a(256),j=a(258),m=a(259),p=a(65),b=a(260),h=a(280),x=a(21),g=a.n(x),O=a(92),f=a(39),v=a(69);a(146),a(148);v.a.initializeApp({apiKey:"AIzaSyDh_Xkab6hKgxeEAnn2vowFgdoX9YeDt0s",authDomain:"fly-line-66271.firebaseapp.com",projectId:"fly-line-66271",storageBucket:"fly-line-66271.appspot.com",messagingSenderId:"537260604396",appId:"1:537260604396:web:83e91b99998cccbbae9ec9",measurementId:"G-TSTY9EE3ZW"});var y=v.a.auth(),w=v.a.firestore(),C=new v.a.auth.GoogleAuthProvider,N=function(){y.signInWithPopup(C).then((function(e){return console.log("Signed in with google: ",e.user)})).catch((function(e){return console.log("Couldnt log in with google: ",e)}))},k=function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n,r,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("no user found"),e.abrupt("return");case 3:return n=w.doc("users/".concat(t.uid)),e.next=6,n.get();case 6:if(e.sent.exists){e.next=17;break}return r=t.email,c=t.displayName,i=t.photoURL,e.prev=9,e.next=12,n.set(Object(O.a)({displayName:c,email:r,photoURL:i},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("error creating user document",e.t0);case 17:return e.abrupt("return",S(t.uid));case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,w.doc("users/".concat(t)).get();case 5:return a=e.sent,e.abrupt("return",Object(O.a)({uid:t},a.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),D=a(77),F=a.n(D),W=Object(r.createContext)({});function E(){var e=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},appTitle:{flexGrow:1,fontFamily:"Condiment",fontSize:"3vmin"}}}))(),t=Object(r.useContext)(W),a=t.userContext,c=(t.setUserContext,Object(r.useState)("")),i=Object(o.a)(c,2),s=i[0],x=i[1],g=a.user,O=Object(l.f)();return Object(r.useEffect)((function(){console.log("Avatar data: ",g),x(g.photoURL)}),[]),Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(u.a,{position:"relative",children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(m.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(F.a,{})}),Object(n.jsx)(p.a,{align:"center",variant:"h6",className:e.appTitle,children:"FLY-LINE"}),Object(n.jsx)(b.a,{color:"inherit",contained:!0,onClick:function(){console.log("Avatar link: ",s)},children:Object(n.jsx)(h.a,{alt:"static image",src:s||"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png"})}),Object(n.jsx)("button",{className:"w-full py-3 bg-red-600 mt-4 text-white",onClick:function(){return y.signOut(),void O.push("/")},children:"Sign out"})]})})})}var T=a(261),I=a(263),A=a(262),M=a(115),L=a.n(M),P=a(114),z=a.n(P),U=a(113),q=a.n(U);function G(){var e=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:"rgb(63 81 181)",width:"100vw",position:"absolute",bottom:"0px",textAlign:"center"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(),t=c.a.useState("recents"),a=Object(o.a)(t,2),r=a[0],i=a[1];return Object(n.jsxs)(T.a,{edge:"start",value:r,onChange:function(e,t){i(t)},className:e.root,children:[Object(n.jsx)(A.a,{href:"/profile",children:Object(n.jsx)(I.a,{label:"Favorites",value:"favorites",icon:Object(n.jsx)(q.a,{})})}),Object(n.jsx)(A.a,{href:"/map",children:Object(n.jsx)(I.a,{label:"Nearby",value:"nearby",icon:Object(n.jsx)(z.a,{})})}),Object(n.jsx)(I.a,{label:"Folder",value:"folder",icon:Object(n.jsx)(L.a,{})})]})}var R=a(54),B=a.n(R);var Y=a(66),H=a(265),Z=a(274),J=a(267),_=a(277),V=a(268),X=a(275),K=a(81),Q=a.n(K),$=a(264);function ee(){function e(){return Object(n.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var t=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},appTitle:{fontFamily:"Condiment",fontSize:"5vmin"}}}))(),a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(""),u=Object(o.a)(l,2),j=u[0],m=u[1],x=Object(r.useState)(null),g=Object(o.a)(x,2),O=(g[0],g[1]),f=function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a?s(n):"userPassword"===a&&m(n)};return Object(n.jsxs)($.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(H.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h5",className:t.appTitle,children:"FLY-LINE"}),Object(n.jsx)(h.a,{className:t.avatar,children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userEmail",label:"Email Address",name:"userEmail",placeholder:"E.g: faruq123@gmail.com",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){return f(e)}}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"userPassword",label:"Password",type:"password",id:"userPassword",autoComplete:"current-password",value:j,onChange:function(e){return f(e)}}),Object(n.jsx)(J.a,{control:Object(n.jsx)(_.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return function(e,t,a){e.preventDefault(),y.signInWithEmailAndPassword(t,a).then((function(e){console.log("Signed in with user: ",e)})).catch((function(e){O("Error signing in with password and email!"),console.error("Error signing in with password and email",e)}))}(e,i,j)},children:"Sign In"}),Object(n.jsx)("p",{style:{textAlign:"center"},children:"Or"}),Object(n.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"secondary",className:"MuiButton-fullWidth py-2 text-white",onClick:function(){return N()},children:"Sign In with Google"}),Object(n.jsxs)(V.a,{container:!0,children:[Object(n.jsx)(V.a,{item:!0,xs:!0,children:Object(n.jsx)(A.a,{href:"/passwordReset",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(V.a,{item:!0,children:Object(n.jsx)(A.a,{href:"/signUp",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(n.jsx)(X.a,{mt:8,children:Object(n.jsx)(e,{})})]})}function te(){function e(){return Object(n.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var t=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},appTitle:{fontFamily:"Condiment",fontSize:"5vmin"}}}))(),a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(""),u=Object(o.a)(l,2),j=u[0],m=u[1],x=Object(r.useState)(""),g=Object(o.a)(x,2),O=g[0],f=g[1],v=function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a?s(n):"userPassword"===a?m(n):"displayName"===a&&f(n),console.log("Email: ",i),console.log("password: ",j),console.log("displayName: ",O)};return Object(n.jsxs)($.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(H.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h5",className:t.appTitle,children:"FLY-LINE"}),Object(n.jsx)(h.a,{className:t.avatar,children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(V.a,{container:!0,spacing:2,children:[Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{type:"text",autoComplete:"fname",name:"displayName",variant:"outlined",required:!0,fullWidth:!0,id:"displayName",label:"Display Name",autoFocus:!0,value:O,onChange:function(e){return v(e)}})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{variant:"outlined",type:"email",required:!0,fullWidth:!0,id:"userEmail",label:"Email Address",placeholder:"E.g: faruq123@gmail.com",name:"userEmail",value:i,onChange:function(e){return v(e)}})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{variant:"outlined",required:!0,fullWidth:!0,name:"userPassword",label:"Password",type:"password",id:"userPassword",value:j,onChange:function(e){return v(e)}})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(J.a,{control:Object(n.jsx)(_.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(n.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){!function(e,t,a){e.preventDefault(),y.createUserWithEmailAndPassword(t,a).then((function(e){console.log("result of create user with email and password: ",e),console.log("Display namne: ",O),y.currentUser.updateProfile({displayName:O}).then((function(){k(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){var t=e.code,a=e.message;"auth/weak-password"===t?alert("The password is too weak."):alert(a),console.log(e)})),s(""),m(""),f("")}(e,i,j)},children:"Sign Up"}),Object(n.jsx)("p",{style:{textAlign:"center"},children:"or"}),Object(n.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"secondary",className:"MuiButton-fullWidth py-2 text-white",onClick:function(){return N()},children:"Sign In with Google"}),Object(n.jsx)(V.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(V.a,{item:!0,children:Object(n.jsx)(A.a,{href:"/signIn",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(X.a,{mt:5,children:Object(n.jsx)(e,{})})]})}var ae=function(){var e=Object(r.useContext)(W),t=e.userContext,a=(e.setUserContext,t.user),c=a.photoURL,i=a.displayName,s=a.email,o=Object(l.f)();return console.log(t),Object(n.jsxs)("div",{className:"mx-auto w-11/12 md:w-2/4 py-8 px-4 md:px-8",children:[Object(n.jsxs)("div",{className:"flex border flex-col items-center md:flex-row md:items-start border-blue-400 px-3 py-4",children:[Object(n.jsx)("div",{style:{background:"url(".concat(c||"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png",")  no-repeat center center"),backgroundSize:"cover",height:"200px",width:"200px"},className:"border border-blue-300"}),Object(n.jsxs)("div",{className:"md:pl-4",children:[Object(n.jsx)("h2",{className:"text-2xl font-semibold",children:i}),Object(n.jsx)("h3",{className:"italic",children:s})]})]}),Object(n.jsx)("button",{className:"w-full py-3 bg-red-600 mt-4 text-white",onClick:function(){return y.signOut(),void o.push("/")},children:"Sign out"})]})};function ne(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],j=Object(r.useState)(null),m=Object(o.a)(j,2),h=m[0],x=(m[1],Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},appTitle:{fontFamily:"Condiment",fontSize:"5vmin"},successMsg:{color:"green"}}}))());return Object(n.jsx)($.a,{component:"main",maxWidth:"xs",children:Object(n.jsxs)("div",{className:x.paper,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h5",className:x.appTitle,children:"FLY-LINE"}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Reset your Password"}),Object(n.jsxs)("div",{className:"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[Object(n.jsxs)("form",{action:"",children:[l&&Object(n.jsx)(p.a,{className:x.successMsg,children:"An email has been sent to you!"}),null!==h&&Object(n.jsx)("div",{className:"py-3 bg-red-600 w-full text-white text-center mb-3",children:h}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userEmail",label:"Email Address",name:"userEmail",placeholder:"E.g: faruq123@gmail.com",autoComplete:"email",autoFocus:!0,value:a,onChange:function(e){return function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a&&c(n)}(e)}}),Object(n.jsx)(b.a,{variant:"contained",type:"submit",fullWidth:!0,color:"primary",className:"py-3",onClick:function(e){return function(e){e.preventDefault(),console.log("Sending reset email to: ",a),y.sendPasswordResetEmail(a).then((function(){alert("Email sent"),u(!0),setTimeout((function(){u(!1)}),3e3)})).catch((function(e){console.log(e)}))}(e)},children:"Send me a reset link"})]}),Object(n.jsx)(A.a,{href:"/",children:Object(n.jsx)(p.a,{align:"center",children:"\u2190 back to sign in page"})})]})]})})}a(175);var re=a(55),ce=a.n(re),ie=(a(176),a(177),a(116)),se=a.n(ie),oe=(a(207),a(273)),le=a(278),de=a(276),ue={getCurrentWeather:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending FiveDayForecast request from front end to backend"),console.log("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.lat,"&lon=").concat(t.lng)),e.next=4,B.a.get("api/currentweather/"+"".concat(t.lng,"/").concat(t.lat));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFiveDayForecast:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending FiveDayForecast request from front end to backend"),console.log("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t.lat,"&lon=").concat(t.lng)),e.next=4,B.a.get("api/fivedayforecast/"+"".concat(t.lng,"/").concat(t.lat));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMaritimeForecast:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending forecast request from front end to backend"),console.log("https://api.stormglass.io/forecast?lat=".concat(t.lat,"&lng=").concat(t.lng)),e.next=4,B.a.get("api/maritimeforecast/"+"".concat(t.lng,"/").concat(t.lat));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=a(62),me=a(269),pe=a(279),be=a(119),he=a.n(be),xe=a(266),ge=a(270),Oe=a(271),fe=a(272),ve=a(120),ye=a.n(ve),we=a(118),Ce=a.n(we),Ne=a(83),ke=a(117),Se=a.n(ke),De=a(85),Fe=a.n(De);a(210);function We(e){var t=e.fiveDayForecastData.fiveDayForecast,a="",r="",c=[],i=[];function s(e){var t=1.8*(e-273.15)+32;return Math.round(t)}if(Array.isArray(t)){a=t[0].main.temp,r=t[0].main.temp,t.map((function(e,t){var n=e.main.temp;n<a&&(a=n),n>r&&(r=n),c.push(s(n)),i.push({t:Fe.a.unix(e.dt),y:s(n)})})),a=s(a),r=s(r),console.log("tempMin: ",a,", tempMax: ",r),console.log("graphData: ",i);var o=Fe.a.unix(t[0].dt),l=Fe.a.unix(t[t.length-1].dt);new Se.a("myChart",{type:"line",data:{datasets:[{label:"Temperature Forecast",data:i,backgroundColor:["rgba(51, 204, 204, 0.2)"],borderColor:["rgba(51, 204, 204, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,tooltips:!1,legend:{display:!1},scales:{xAxes:[{position:"bottom",type:"time",time:{unit:"hour",displayFormats:{hour:"hA"}},distribution:"series",ticks:{min:o,max:l,maxTicksLimit:120}},{position:"top",type:"time",time:{unit:"day",displayFormats:{day:"MMM D"}},distribution:"linear",ticks:{min:o,max:l}}],yAxes:[{position:"left",scaleLabel:{display:!0,labelString:"Degrees (F)"},ticks:{suggestedMin:a,suggestedMax:r,stepSize:5}}]}}})}return Object(n.jsx)("div",{className:"chartContainerWrapper",style:{maxWidth:"375px",maxHeight:"450px",overflowX:"scroll"},children:Object(n.jsx)("div",{className:"chartContainer",style:{position:"relative",width:"100vw",height:"250px"},children:Object(n.jsx)("canvas",{id:"myChart",style:{backgroundColor:"white"},children:console.log(document.getElementById("myChart"))})})})}var Ee=a(214),Te=a(84),Ie=a(20),Ae=Object(d.a)((function(e){return{gridItems:{alignItems:"center",height:"100%"},paper:{padding:e.spacing(1),justifyContent:"center",color:e.palette.text.secondary,boxShadow:"none",margin:"2px"},typ:{backgroundColor:"white",margin:"5px",textAlign:"center",fontSize:"1em",fontWeight:"bold"}}}));function Me(e){e.window;var t=Ae(),a=(Object(Ie.a)(),e.currentWeatherData.currentWeatherData);console.log("current weather from props",a);var r="http://openweathermap.org/img/w/"+a.weatherIconCode+".png";console.log(r);var c,i,s=e.maritimeData.maritimeData;function o(e){var t=1.8*(e-273.15)+32;return Math.round(t)}function l(e){return Math.floor(2.237*e)}return console.log("Current maritime data from props",s),Object(n.jsxs)(V.a,{container:!0,xs:12,spacing:1,children:[" ",Object(n.jsx)(V.a,{item:!0,xs:4,children:Object(n.jsxs)(V.a,{item:!0,xs:12,container:!0,id:"weatherDetails",children:[Object(n.jsx)(V.a,{item:!0,xs:6,children:Object(n.jsx)("img",{id:"wicon",src:r,alt:"Weather icon"})}),Object(n.jsx)(V.a,{item:!0,xs:6,children:Object(n.jsx)(Ee.a,{className:t.paper,children:Object(n.jsxs)(p.a,{className:t.typ,children:[o(a.temp),"\xb0"]})})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Ee.a,{className:t.paper,children:Object(n.jsxs)(p.a,{className:t.typ,style:{marginTop:"26px"},children:["Feels Like ",o(a.feelsLike),"\xb0"]})})})]})}),Object(n.jsx)(V.a,{item:!0,xs:4,children:Object(n.jsxs)(V.a,{container:!0,xs:12,children:[Object(n.jsx)(V.a,{item:!0,xs:6,children:Object(n.jsx)(Ee.a,{className:t.paper,children:Object(n.jsx)(Ne.a,{icon:Te.a,size:"2x",style:{transform:"rotate(".concat(a.windDirection-45,"deg)")}})})}),Object(n.jsx)(V.a,{item:!0,xs:6,children:Object(n.jsxs)(Ee.a,{className:t.paper,children:[Object(n.jsxs)(p.a,{className:t.typ,children:[l(a.windSpeed),"mph"]}),Object(n.jsx)(p.a,{className:t.typ,children:(i=a.windDirection,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(i/22.5+.5)%16])})]})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Ee.a,{className:t.paper,children:void 0===a.windGust?Object(n.jsx)(p.a,{className:t.typ,children:"No gusts today"}):Object(n.jsxs)(p.a,{className:t.typ,children:["Gusts up to ",l(a.windGust),"mph"]})})})]})}),Object(n.jsx)(V.a,{item:!0,xs:4,children:Object(n.jsxs)(V.a,{container:!0,xs:12,children:[Object(n.jsx)(V.a,{item:!0,xs:6,children:Object(n.jsx)(Ee.a,{className:t.paper,children:Object(n.jsx)(Ne.a,{icon:Te.b,size:"2x",style:{color:"cyan"}})})}),Object(n.jsx)(V.a,{item:!0,xs:6,children:Object(n.jsx)(Ee.a,{className:t.paper,children:Object(n.jsxs)(p.a,{className:t.typ,children:[function(e){var t=1.8*e+32;return Math.round(t)}(s.waterTemp),"\xb0"]})})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Ee.a,{className:t.paper,children:Object(n.jsxs)(p.a,{className:t.typ,style:{marginTop:"30px"},children:["Wave Height ",Object(n.jsx)("br",{}),(c=s.waveHeight,Math.round(3.281*c))," feet"]})})})]})})]})}var Le=Object(d.a)((function(e){return{root:{display:"flex"},drawer:Object(je.a)({},e.breakpoints.up("sm"),{width:"100%",flexShrink:0}),appBar:Object(je.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(je.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaperMobile:{width:"100%"},drawerPaperDesktop:{width:"25%",zIndex:0},content:{flexGrow:1,padding:e.spacing(3)},gridItems:{alignItems:"center",height:"100%"},paper:{padding:e.spacing(1),justifyContent:"center",color:e.palette.text.secondary,boxShadow:"none",margin:"2px"},typ:{backgroundColor:"white",margin:"5px",textAlign:"center",fontSize:"1em",fontWeight:"bold"}}}));var Pe=function(e){var t=e.window,a=Le(),r=(Object(Ie.a)(),e.currentWeatherData.currentWeatherData);console.log("current weather from props",r);var c="http://openweathermap.org/img/w/"+r.weatherIconCode+".png";console.log(c);var i=e.maritimeData.maritimeData;console.log("Current maritime data from props",i);var s=e.fiveDayForecastData.fiveDayForecastData,o=Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:a.toolbar}),Object(n.jsx)(me.a,{}),Object(n.jsxs)(xe.a,{children:[Object(n.jsxs)(ge.a,{button:!0,children:[Object(n.jsxs)(Oe.a,{children:[" ",Object(n.jsx)(Ce.a,{})," "]}),Object(n.jsx)(fe.a,{primary:"Current Weather"})]},"currentWeather "),Object(n.jsx)(ge.a,{children:Object(n.jsx)(Me,{currentWeatherData:{currentWeatherData:r},maritimeData:{maritimeData:i}})})]}),Object(n.jsx)(me.a,{}),Object(n.jsxs)(xe.a,{children:[Object(n.jsx)(fe.a,{children:"Five Day Forecast"}),Object(n.jsx)(ge.a,{children:Object(n.jsx)(We,{fiveDayForecastData:s})})]}),Object(n.jsx)(me.a,{}),Object(n.jsx)(xe.a,{children:Object(n.jsx)(ge.a,{button:!0,children:Object(n.jsxs)(V.a,{container:!0,xs:12,spacing:1,justify:"space-evenly",alignItems:"center",style:{backgroundColor:"red"},children:[Object(n.jsx)(V.a,{item:!0,xs:4,style:{backgroundColor:"yellow",textAlign:"center"},children:Object(n.jsxs)(V.a,{container:!0,xs:12,style:{backgroundColor:"orange"},children:[Object(n.jsx)(V.a,{item:!0,xs:6,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"6"})}),Object(n.jsx)(V.a,{item:!0,xs:6,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"6"})}),Object(n.jsx)(V.a,{item:!0,xs:12,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"12"})})]})}),Object(n.jsx)(V.a,{item:!0,xs:4,style:{backgroundColor:"yellow",textAlign:"center"},children:Object(n.jsxs)(V.a,{container:!0,xs:12,style:{backgroundColor:"orange"},children:[Object(n.jsx)(V.a,{item:!0,xs:6,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"6"})}),Object(n.jsx)(V.a,{item:!0,xs:6,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"6"})}),Object(n.jsx)(V.a,{item:!0,xs:12,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"12"})})]})}),Object(n.jsx)(V.a,{item:!0,xs:4,style:{backgroundColor:"yellow",textAlign:"center"},children:Object(n.jsxs)(V.a,{container:!0,xs:12,style:{backgroundColor:"orange"},children:[Object(n.jsx)(V.a,{item:!0,xs:6,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"6"})}),Object(n.jsx)(V.a,{item:!0,xs:6,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"6"})}),Object(n.jsx)(V.a,{item:!0,xs:12,style:{backgroundColor:"green"},children:Object(n.jsx)(p.a,{className:a.typ,children:"12"})})]})})]})})}),Object(n.jsx)(me.a,{}),Object(n.jsx)(xe.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(n.jsxs)(ge.a,{button:!0,children:[Object(n.jsx)(Oe.a,{children:t%2===0?Object(n.jsx)(he.a,{}):Object(n.jsx)(ye.a,{})}),Object(n.jsx)(fe.a,{primary:e})]},e)}))})]}),l=void 0!==t?function(){return t().document.body}:void 0;return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(H.a,{}),Object(n.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(n.jsx)(le.a,{smUp:!0,implementation:"css",children:Object(n.jsx)(pe.a,{container:l,variant:"temporary",anchor:"bottom",open:e.mobileOpen,onClose:e.handleDrawerToggle,classes:{paper:a.drawerPaperMobile},ModalProps:{keepMounted:!0},children:o})}),Object(n.jsx)(le.a,{mdDown:!0,implementation:"css",children:Object(n.jsx)(pe.a,{classes:{paper:a.drawerPaperDesktop},variant:"permanent",open:!0,children:o})})]}),Object(n.jsx)("main",{className:a.content,children:Object(n.jsx)("div",{className:a.toolbar})})]})};function ze(){ce.a.accessToken="pk.eyJ1Ijoic3RvdmVuY3JhbnR6IiwiYSI6ImNraHh0YnZicDAxZTMyeG95M3d1M3g1MmcifQ.rAmHkmqJ0HI2WocSFACwZQ";var e=Object(r.useState)({lng:"",lat:"",zoom:""}),t=Object(o.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)(!1),l=Object(o.a)(s,2),d=(l[0],l[1],Object(r.useState)({weatherIconCode:"",temp:"",feelsLike:"",humidity:"",windSpeed:"",windDirection:""})),u=Object(o.a)(d,2),j=u[0],m=u[1],p=Object(r.useState)({fiveDayForecast:""}),b=Object(o.a)(p,2),h=b[0],x=b[1],O=Object(r.useState)({waterTemp:"",waveHeight:""}),v=Object(o.a)(O,2),y=v[0],w=v[1];function C(e){i({lng:e.coords.longitude,lat:e.coords.latitude,zoom:12}),k([e.coords.longitude,e.coords.latitude])}function N(e){console.log("Error: ",e),i({lng:-2.24,lat:53.48,zoom:12}),k([-2.24,53.48])}function k(e){var t=new ce.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:e,zoom:12});t.addControl(new ce.a.GeolocateControl,"bottom-right");var a=new ce.a.NavigationControl;t.addControl(a,"top-right");var n=new se.a({accessToken:ce.a.accessToken,mapboxgl:ce.a,marker:!0});t.addControl(n,"top-left"),t.on("moveend",(function(){i({lng:t.getCenter().lng.toFixed(4),lat:t.getCenter().lat.toFixed(4),zoom:t.getZoom().toFixed(2)})}))}Object(r.useEffect)((function(){navigator.geolocation.getCurrentPosition(C,N,{enableHighAccuracy:!0})}),[]),Object(r.useEffect)((function(){console.log("We arrived at our destination",a),function(){I.apply(this,arguments)}()}),[a]);var S=c.a.useState(!1),D=Object(o.a)(S,2),F=D[0],W=D[1],E=function(){W(!F)};function T(){return(T=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(),console.log("acccessing coords from mobile",a),e.next=5,ue.getForecast(a);case 5:n=e.sent,console.log("Forecast: ",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(f.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getCurrentWeather(a);case 2:return t=e.sent,console.log("CurrentWeather: ",t),m({weatherIconCode:t.weather[0].icon,temp:t.main.temp,feelsLike:t.main.feels_like,humidity:t.main.humidity,windSpeed:t.wind.speed,windDirection:t.wind.deg,windGust:t.wind.gust}),e.next=7,ue.getFiveDayForecast(a);case 7:return n=e.sent,console.log("fivedayforecast: ",n),x({fiveDayForecast:n.list}),e.next=12,ue.getMaritimeForecast(a);case 12:r=e.sent,console.log("Maritime Forecast: ",r),w({waterTemp:r.hours[0].waterTemperature[0].value,waveHeight:r.hours[0].waveHeight[0].value});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=Object(r.useState)(!1),M=Object(o.a)(A,2),L=M[0],P=M[1],z=function(){P(!L)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{id:"map"}),Object(n.jsxs)("div",{className:"map-overlay",children:[Object(n.jsx)(oe.a,{variant:"extended",color:"primary",className:"modalBtn",onClick:z,children:"Modal"}),Object(n.jsx)(le.a,{lgUp:!0,implementation:"css",children:Object(n.jsx)(oe.a,{variant:"extended",color:"primary",className:"weatherBtn",onClick:function(){return function(e){return T.apply(this,arguments)}()},children:"Weather"})}),Object(n.jsx)("div",{className:"sidebarStyle",children:Object(n.jsxs)("div",{children:["Longitude: ",a.lng," | Latitude: ",a.lat," | Zoom:"," ",a.zoom]})}),Object(n.jsx)(Pe,{handleDrawerToggle:E,mobileOpen:F,currentWeatherData:{currentWeatherData:j},maritimeData:{maritimeData:y},fiveDayForecastData:{fiveDayForecastData:h}}),Object(n.jsx)(de.a,{open:L,onClose:function(){return z()},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",keepMounted:!0,children:Object(n.jsx)(We,{fiveDayForecastData:h})})]})]})}function Ue(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ze,{})})}function qe(){var e=Object(r.useContext)(W),t=e.userContext;e.setUserContext;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Y.a,{children:t.user?Object(n.jsxs)($.a,{style:{minWidth:"100vw",minHeight:"100vh",paddingLeft:"0px",paddingRight:"0px"},children:[Object(n.jsx)(E,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:["/","/profile"],component:ae}),Object(n.jsx)(l.a,{exact:!0,path:"/map",component:Ue})]}),Object(n.jsx)(G,{})]}):Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:["/","/signin"],component:ee}),Object(n.jsx)(l.a,{exact:!0,path:"/signup",component:te}),Object(n.jsx)(l.a,{exact:!0,path:"/passwordreset",component:ne})]})})})}function Ge(){var e=Object(r.useState)({user:null}),t=Object(o.a)(e,2),a=t[0],c=t[1];return console.log("User context on mount: ",a),Object(r.useEffect)((function(){y.onAuthStateChanged((function(e){console.log("UserAuth: ",e),k(e).then((function(e){console.log("User data from auth: ",e),c({user:e})}))}))}),[]),Object(n.jsx)(W.Provider,{value:{userContext:a,setUserContext:c},children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(qe,{})})})}var Re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,283)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Ge,{})}),document.getElementById("root")),Re()}},[[211,1,2]]]);
//# sourceMappingURL=main.9dba960c.chunk.js.map