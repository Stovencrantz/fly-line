(this["webpackJsonpfly-line"]=this["webpackJsonpfly-line"]||[]).push([[0],{141:function(e,t,a){},172:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),i=a(13),s=a.n(i),o=(a(141),a(12)),l=a(16),u=a(251),d=a(253),j=a(255),m=a(256),p=a(64),b=a(257),h=a(277),x=a(21),g=a.n(x),f=a(88),O=a(39),v=a(69);a(143),a(145);v.a.initializeApp({apiKey:"AIzaSyDh_Xkab6hKgxeEAnn2vowFgdoX9YeDt0s",authDomain:"fly-line-66271.firebaseapp.com",projectId:"fly-line-66271",storageBucket:"fly-line-66271.appspot.com",messagingSenderId:"537260604396",appId:"1:537260604396:web:83e91b99998cccbbae9ec9",measurementId:"G-TSTY9EE3ZW"});var w=v.a.auth(),y=v.a.firestore(),N=new v.a.auth.GoogleAuthProvider,S=function(){w.signInWithPopup(N).then((function(e){return console.log("Signed in with google: ",e.user)})).catch((function(e){return console.log("Couldnt log in with google: ",e)}))},C=function(){var e=Object(O.a)(g.a.mark((function e(t,a){var n,r,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("no user found"),e.abrupt("return");case 3:return n=y.doc("users/".concat(t.uid)),e.next=6,n.get();case 6:if(e.sent.exists){e.next=17;break}return r=t.email,c=t.displayName,i=t.photoURL,e.prev=9,e.next=12,n.set(Object(f.a)({displayName:c,email:r,photoURL:i},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("error creating user document",e.t0);case 17:return e.abrupt("return",k(t.uid));case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,y.doc("users/".concat(t)).get();case 5:return a=e.sent,e.abrupt("return",Object(f.a)({uid:t},a.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),E=a(75),W=a.n(E),F=Object(r.createContext)({});function D(){var e=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},appTitle:{flexGrow:1,fontFamily:"Condiment",fontSize:"3vmin"}}}))(),t=Object(r.useContext)(F),a=t.userContext,c=(t.setUserContext,Object(r.useState)("")),i=Object(o.a)(c,2),s=i[0],x=i[1],g=a.user,f=Object(l.f)();return Object(r.useEffect)((function(){console.log("Avatar data: ",g),x(g.photoURL)}),[]),Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(d.a,{position:"relative",children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(m.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(W.a,{})}),Object(n.jsx)(p.a,{align:"center",variant:"h6",className:e.appTitle,children:"FLY-LINE"}),Object(n.jsx)(b.a,{color:"inherit",contained:!0,onClick:function(){console.log("Avatar link: ",s)},children:Object(n.jsx)(h.a,{alt:"static image",src:s||"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png"})}),Object(n.jsx)("button",{className:"w-full py-3 bg-red-600 mt-4 text-white",onClick:function(){return w.signOut(),void f.push("/")},children:"Sign out"})]})})})}var I=a(258),T=a(260),A=a(259),L=a(115),P=a.n(L),z=a(114),M=a.n(z),U=a(113),q=a.n(U);function G(){var e=Object(u.a)((function(e){return{root:{flexGrow:1,backgroundColor:"rgb(63 81 181)",width:"100vw",position:"absolute",bottom:"0px",textAlign:"center"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(),t=c.a.useState("recents"),a=Object(o.a)(t,2),r=a[0],i=a[1];return Object(n.jsxs)(I.a,{edge:"start",value:r,onChange:function(e,t){i(t)},className:e.root,children:[Object(n.jsx)(A.a,{href:"/profile",children:Object(n.jsx)(T.a,{label:"Favorites",value:"favorites",icon:Object(n.jsx)(q.a,{})})}),Object(n.jsx)(A.a,{href:"/map",children:Object(n.jsx)(T.a,{label:"Nearby",value:"nearby",icon:Object(n.jsx)(M.a,{})})}),Object(n.jsx)(T.a,{label:"Folder",value:"folder",icon:Object(n.jsx)(P.a,{})})]})}var R=a(54),Y=a.n(R);var B=a(66),H=a(262),Z=a(271),J=a(264),_=a(274),V=a(265),K=a(272),Q=a(79),X=a.n(Q),$=a(261);function ee(){function e(){return Object(n.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var t=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},appTitle:{fontFamily:"Condiment",fontSize:"5vmin"}}}))(),a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),j=d[0],m=d[1],x=Object(r.useState)(null),g=Object(o.a)(x,2),f=(g[0],g[1]),O=function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a?s(n):"userPassword"===a&&m(n)};return Object(n.jsxs)($.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(H.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h5",className:t.appTitle,children:"FLY-LINE"}),Object(n.jsx)(h.a,{className:t.avatar,children:Object(n.jsx)(X.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userEmail",label:"Email Address",name:"userEmail",placeholder:"E.g: faruq123@gmail.com",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){return O(e)}}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"userPassword",label:"Password",type:"password",id:"userPassword",autoComplete:"current-password",value:j,onChange:function(e){return O(e)}}),Object(n.jsx)(J.a,{control:Object(n.jsx)(_.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return function(e,t,a){e.preventDefault(),w.signInWithEmailAndPassword(t,a).then((function(e){console.log("Signed in with user: ",e)})).catch((function(e){f("Error signing in with password and email!"),console.error("Error signing in with password and email",e)}))}(e,i,j)},children:"Sign In"}),Object(n.jsx)("p",{style:{textAlign:"center"},children:"Or"}),Object(n.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"secondary",className:"MuiButton-fullWidth py-2 text-white",onClick:function(){return S()},children:"Sign In with Google"}),Object(n.jsxs)(V.a,{container:!0,children:[Object(n.jsx)(V.a,{item:!0,xs:!0,children:Object(n.jsx)(A.a,{href:"/passwordReset",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(V.a,{item:!0,children:Object(n.jsx)(A.a,{href:"/signUp",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(n.jsx)(K.a,{mt:8,children:Object(n.jsx)(e,{})})]})}function te(){function e(){return Object(n.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var t=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},appTitle:{fontFamily:"Condiment",fontSize:"5vmin"}}}))(),a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),j=d[0],m=d[1],x=Object(r.useState)(""),g=Object(o.a)(x,2),f=g[0],O=g[1],v=function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a?s(n):"userPassword"===a?m(n):"displayName"===a&&O(n),console.log("Email: ",i),console.log("password: ",j),console.log("displayName: ",f)};return Object(n.jsxs)($.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(H.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h5",className:t.appTitle,children:"FLY-LINE"}),Object(n.jsx)(h.a,{className:t.avatar,children:Object(n.jsx)(X.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(V.a,{container:!0,spacing:2,children:[Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{type:"text",autoComplete:"fname",name:"displayName",variant:"outlined",required:!0,fullWidth:!0,id:"displayName",label:"Display Name",autoFocus:!0,value:f,onChange:function(e){return v(e)}})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{variant:"outlined",type:"email",required:!0,fullWidth:!0,id:"userEmail",label:"Email Address",placeholder:"E.g: faruq123@gmail.com",name:"userEmail",value:i,onChange:function(e){return v(e)}})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{variant:"outlined",required:!0,fullWidth:!0,name:"userPassword",label:"Password",type:"password",id:"userPassword",value:j,onChange:function(e){return v(e)}})}),Object(n.jsx)(V.a,{item:!0,xs:12,children:Object(n.jsx)(J.a,{control:Object(n.jsx)(_.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(n.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){!function(e,t,a){e.preventDefault(),w.createUserWithEmailAndPassword(t,a).then((function(e){console.log("result of create user with email and password: ",e),console.log("Display namne: ",f),w.currentUser.updateProfile({displayName:f}).then((function(){C(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){var t=e.code,a=e.message;"auth/weak-password"===t?alert("The password is too weak."):alert(a),console.log(e)})),s(""),m(""),O("")}(e,i,j)},children:"Sign Up"}),Object(n.jsx)("p",{style:{textAlign:"center"},children:"or"}),Object(n.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"secondary",className:"MuiButton-fullWidth py-2 text-white",onClick:function(){return S()},children:"Sign In with Google"}),Object(n.jsx)(V.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(V.a,{item:!0,children:Object(n.jsx)(A.a,{href:"/signIn",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(K.a,{mt:5,children:Object(n.jsx)(e,{})})]})}var ae=function(){var e=Object(r.useContext)(F),t=e.userContext,a=(e.setUserContext,t.user),c=a.photoURL,i=a.displayName,s=a.email,o=Object(l.f)();return console.log(t),Object(n.jsxs)("div",{className:"mx-auto w-11/12 md:w-2/4 py-8 px-4 md:px-8",children:[Object(n.jsxs)("div",{className:"flex border flex-col items-center md:flex-row md:items-start border-blue-400 px-3 py-4",children:[Object(n.jsx)("div",{style:{background:"url(".concat(c||"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png",")  no-repeat center center"),backgroundSize:"cover",height:"200px",width:"200px"},className:"border border-blue-300"}),Object(n.jsxs)("div",{className:"md:pl-4",children:[Object(n.jsx)("h2",{className:"text-2xl font-semibold",children:i}),Object(n.jsx)("h3",{className:"italic",children:s})]})]}),Object(n.jsx)("button",{className:"w-full py-3 bg-red-600 mt-4 text-white",onClick:function(){return w.signOut(),void o.push("/")},children:"Sign out"})]})};function ne(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),l=s[0],d=s[1],j=Object(r.useState)(null),m=Object(o.a)(j,2),h=m[0],x=(m[1],Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},appTitle:{fontFamily:"Condiment",fontSize:"5vmin"},successMsg:{color:"green"}}}))());return Object(n.jsx)($.a,{component:"main",maxWidth:"xs",children:Object(n.jsxs)("div",{className:x.paper,children:[Object(n.jsx)(p.a,{component:"h1",variant:"h5",className:x.appTitle,children:"FLY-LINE"}),Object(n.jsx)(p.a,{component:"h1",variant:"h5",children:"Reset your Password"}),Object(n.jsxs)("div",{className:"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8",children:[Object(n.jsxs)("form",{action:"",children:[l&&Object(n.jsx)(p.a,{className:x.successMsg,children:"An email has been sent to you!"}),null!==h&&Object(n.jsx)("div",{className:"py-3 bg-red-600 w-full text-white text-center mb-3",children:h}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userEmail",label:"Email Address",name:"userEmail",placeholder:"E.g: faruq123@gmail.com",autoComplete:"email",autoFocus:!0,value:a,onChange:function(e){return function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a&&c(n)}(e)}}),Object(n.jsx)(b.a,{variant:"contained",type:"submit",fullWidth:!0,color:"primary",className:"py-3",onClick:function(e){return function(e){e.preventDefault(),console.log("Sending reset email to: ",a),w.sendPasswordResetEmail(a).then((function(){alert("Email sent"),d(!0),setTimeout((function(){d(!1)}),3e3)})).catch((function(e){console.log(e)}))}(e)},children:"Send me a reset link"})]}),Object(n.jsx)(A.a,{href:"/",children:Object(n.jsx)(p.a,{align:"center",children:"\u2190 back to sign in page"})})]})]})})}a(172);var re=a(55),ce=a.n(re),ie=(a(173),a(174),a(116)),se=a.n(ie),oe=(a(205),a(275)),le=a(270),ue={getCurrentWeather:function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending FiveDayForecast request from front end to backend"),console.log("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.lat,"&lon=").concat(t.lng)),e.next=4,Y.a.get("api/currentweather/"+"".concat(t.lng,"/").concat(t.lat));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFiveDayForecast:function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending FiveDayForecast request from front end to backend"),console.log("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t.lat,"&lon=").concat(t.lng)),e.next=4,Y.a.get("api/fivedayforecast/"+"".concat(t.lng,"/").concat(t.lat));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMaritimeForecast:function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending forecast request from front end to backend"),console.log("https://api.stormglass.io/forecast?lat=".concat(t.lat,"&lng=").concat(t.lng)),e.next=4,Y.a.get("api/maritimeforecast/"+"".concat(t.lng,"/").concat(t.lat));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=a(61),je=a(266),me=a(276),pe=a(93),be=a.n(pe),he=a(263),xe=a(267),ge=a(268),fe=a(269),Oe=a(94),ve=a.n(Oe),we=a(117),ye=a.n(we),Ne=a(211),Se=a(91),Ce=a(92),ke=a(20),Ee=Object(u.a)((function(e){return{root:{display:"flex"},drawer:Object(de.a)({},e.breakpoints.up("sm"),{width:"100%",flexShrink:0}),appBar:Object(de.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(de.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaperMobile:{width:"100%"},drawerPaperDesktop:{width:"25%",zIndex:0},content:{flexGrow:1,padding:e.spacing(3)},gridItems:{alignItems:"center",height:"100%"},paper:{textAlign:"center",justify:"center",color:e.palette.text.secondary,background:e.palette.success.light,fontSize:"0.7em",fontWeight:"bold"}}}));var We=function(e){var t=e.window,a=Ee(),r=(Object(ke.a)(),e.currentWeatherData.currentWeatherData);console.log("current weather from props",r);var c="http://openweathermap.org/img/w/"+r.weatherIconCode+".png";console.log(c);var i=e.maritimeData.maritimeData;function s(e){var t=1.8*(e-273.15)+32;return Math.round(t)}function o(e){return Math.floor(2.237*e)}console.log("Current maritime data from props",i);var l,u=Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:a.toolbar}),Object(n.jsx)(je.a,{}),Object(n.jsxs)(he.a,{children:[Object(n.jsxs)(xe.a,{button:!0,children:[Object(n.jsxs)(ge.a,{children:[" ",Object(n.jsx)(ye.a,{})," "]}),Object(n.jsx)(fe.a,{primary:"Current Weather"})]},"currentWeather "),Object(n.jsx)(xe.a,{children:Object(n.jsxs)(V.a,{container:!0,xs:12,spacing:1,justify:"center",direction:"row",children:[Object(n.jsx)(V.a,{item:!0,xs:4,id:"weatherDetails",style:{alignSelf:"center"},children:Object(n.jsxs)(V.a,{container:!0,className:a.gridItems,children:[Object(n.jsx)(V.a,{item:!0,xs:6,spacing:1,direction:"column",children:Object(n.jsx)(Ne.a,{className:a.paper,children:Object(n.jsx)("img",{id:"wicon",src:c,alt:"Weather icon"})})}),Object(n.jsx)(V.a,{item:!0,xs:6,spacing:1,direction:"column",children:Object(n.jsxs)(Ne.a,{className:a.paper,style:{fontSize:"1em"},children:[s(r.temp),"\xb0"]})}),Object(n.jsx)(V.a,{item:!0,xs:12,spacing:1,direction:"column",children:Object(n.jsxs)(Ne.a,{className:a.paper,children:["Feels Like"," ",s(r.feelsLike),"\xb0"]})})]})}),Object(n.jsx)(V.a,{item:!0,xs:4,id:"windDetails",children:Object(n.jsxs)(V.a,{container:!0,className:a.gridItems,children:[Object(n.jsx)(V.a,{item:!0,xs:6,spacing:1,direction:"column",children:Object(n.jsx)(Ne.a,{className:a.paper,children:Object(n.jsx)(Se.a,{icon:Ce.a,size:"2x",style:{transform:"rotate(".concat(r.windDirection-45,"deg)")}})})}),Object(n.jsxs)(V.a,{item:!0,xs:6,spacing:1,direction:"column",children:[Object(n.jsxs)(Ne.a,{className:a.paper,style:{fontSize:"1em"},children:[o(r.windSpeed),"mph"]}),Object(n.jsx)(Ne.a,{className:a.paper,style:{fontSize:"1em"},children:(l=r.windDirection,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(l/22.5+.5)%16])})]}),Object(n.jsx)(V.a,{item:!0,xs:12,spacing:1,direction:"column",children:Object(n.jsxs)(Ne.a,{className:a.paper,children:["Gusts up to ",o(r.windGust),"mph"]})})]})}),Object(n.jsx)(V.a,{item:!0,xs:4,id:"waveDetails",children:Object(n.jsxs)(V.a,{container:!0,className:a.gridItems,children:[Object(n.jsx)(V.a,{item:!0,xs:6,spacing:1,direction:"column",children:Object(n.jsx)(Ne.a,{className:a.paper,children:Object(n.jsx)(Se.a,{icon:Ce.b,size:"2x",style:{color:"cyan"}})})}),Object(n.jsx)(V.a,{item:!0,xs:6,spacing:1,direction:"column",children:Object(n.jsx)(Ne.a,{className:a.paper,style:{fontSize:"1em"},children:Object(n.jsxs)("p",{children:[function(e){var t=1.8*e+32;return Math.round(t)}(i.waterTemp),"\xb0"]})})}),Object(n.jsx)(V.a,{item:!0,xs:12,spacing:1,direction:"column",children:Object(n.jsx)(Ne.a,{className:a.paper,children:Object(n.jsxs)("p",{children:["Feels Like"," ",s(r.feelsLike),"\xb0"]})})})]})})]})})]}),Object(n.jsx)(je.a,{}),Object(n.jsx)(he.a,{children:["Inbox","Starred","Send email","Drafts"].map((function(e,t){return Object(n.jsxs)(xe.a,{button:!0,children:[Object(n.jsx)(ge.a,{children:t%2===0?Object(n.jsx)(be.a,{}):Object(n.jsx)(ve.a,{})}),Object(n.jsx)(fe.a,{primary:e})]},e)}))}),Object(n.jsx)(je.a,{}),Object(n.jsx)(he.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(n.jsxs)(xe.a,{button:!0,children:[Object(n.jsx)(ge.a,{children:t%2===0?Object(n.jsx)(be.a,{}):Object(n.jsx)(ve.a,{})}),Object(n.jsx)(fe.a,{primary:e})]},e)}))})]}),d=void 0!==t?function(){return t().document.body}:void 0;return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(H.a,{}),Object(n.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(n.jsx)(oe.a,{smUp:!0,implementation:"css",children:Object(n.jsx)(me.a,{container:d,variant:"temporary",anchor:"bottom",open:e.mobileOpen,onClose:e.handleDrawerToggle,classes:{paper:a.drawerPaperMobile},ModalProps:{keepMounted:!0},children:u})}),Object(n.jsx)(oe.a,{mdDown:!0,implementation:"css",children:Object(n.jsx)(me.a,{classes:{paper:a.drawerPaperDesktop},variant:"permanent",open:!0,children:u})})]}),Object(n.jsx)("main",{className:a.content,children:Object(n.jsx)("div",{className:a.toolbar})})]})};function Fe(){ce.a.accessToken="pk.eyJ1Ijoic3RvdmVuY3JhbnR6IiwiYSI6ImNraHh0YnZicDAxZTMyeG95M3d1M3g1MmcifQ.rAmHkmqJ0HI2WocSFACwZQ";var e=Object(r.useState)({lng:"",lat:"",zoom:""}),t=Object(o.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)(!1),l=Object(o.a)(s,2),u=(l[0],l[1],Object(r.useState)({weatherIconCode:"",temp:"",feelsLike:"",humidity:"",windSpeed:"",windDirection:""})),d=Object(o.a)(u,2),j=d[0],m=d[1],p=Object(r.useState)({waterTemp:"",waveHeight:""}),b=Object(o.a)(p,2),h=b[0],x=b[1];function f(e){i({lng:e.coords.longitude,lat:e.coords.latitude,zoom:12}),w([e.coords.longitude,e.coords.latitude])}function v(e){console.log("Error: ",e),i({lng:-2.24,lat:53.48,zoom:12}),w([-2.24,53.48])}function w(e){var t=new ce.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:e,zoom:12});t.addControl(new ce.a.GeolocateControl,"bottom-right");var a=new ce.a.NavigationControl;t.addControl(a,"top-right");var n=new se.a({accessToken:ce.a.accessToken,mapboxgl:ce.a,marker:!0});t.addControl(n,"top-left"),t.on("moveend",(function(){i({lng:t.getCenter().lng.toFixed(4),lat:t.getCenter().lat.toFixed(4),zoom:t.getZoom().toFixed(2)})}))}Object(r.useEffect)((function(){navigator.geolocation.getCurrentPosition(f,v,{enableHighAccuracy:!0})}),[]),Object(r.useEffect)((function(){console.log("We arrived at our destination",a),function(){W.apply(this,arguments)}()}),[a]);var y=c.a.useState(!1),N=Object(o.a)(y,2),S=N[0],C=N[1],k=function(){C(!S)};function E(){return(E=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(),console.log("acccessing coords from mobile",a),e.next=5,ue.getForecast(a);case 5:n=e.sent,console.log("Forecast: ",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(O.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getCurrentWeather(a);case 2:return t=e.sent,console.log("CurrentWeather: ",t),m({weatherIconCode:t.weather[0].icon,temp:t.main.temp,feelsLike:t.main.feels_like,humidity:t.main.humidity,windSpeed:t.wind.speed,windDirection:t.wind.deg,windGust:t.wind.gust}),e.next=7,ue.getFiveDayForecast(a);case 7:return n=e.sent,console.log("fivedayforecast: ",n),e.next=11,ue.getMaritimeForecast(a);case 11:r=e.sent,console.log("Maritime Forecast: ",r),x({waterTemp:r.hours[0].waterTemperature[0].value,waveHeight:r.hours[0].waveHeight[0].value});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{id:"map"}),Object(n.jsxs)("div",{className:"map-overlay",children:[Object(n.jsx)(oe.a,{lgUp:!0,implementation:"css",children:Object(n.jsx)(le.a,{variant:"extended",color:"primary",className:"weatherBtn",onClick:function(){return function(e){return E.apply(this,arguments)}()},children:"Weather"})}),Object(n.jsx)("div",{className:"sidebarStyle",children:Object(n.jsxs)("div",{children:["Longitude: ",a.lng," | Latitude: ",a.lat," | Zoom:"," ",a.zoom]})}),Object(n.jsx)(We,{handleDrawerToggle:k,mobileOpen:S,currentWeatherData:{currentWeatherData:j},maritimeData:{maritimeData:h}})]})]})}function De(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Fe,{})})}function Ie(){var e=Object(r.useContext)(F),t=e.userContext;e.setUserContext;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(B.a,{children:t.user?Object(n.jsxs)($.a,{style:{minWidth:"100vw",minHeight:"100vh",paddingLeft:"0px",paddingRight:"0px"},children:[Object(n.jsx)(D,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:["/","/profile"],component:ae}),Object(n.jsx)(l.a,{exact:!0,path:"/map",component:De})]}),Object(n.jsx)(G,{})]}):Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:["/","/signin"],component:ee}),Object(n.jsx)(l.a,{exact:!0,path:"/signup",component:te}),Object(n.jsx)(l.a,{exact:!0,path:"/passwordreset",component:ne})]})})})}function Te(){var e=Object(r.useState)({user:null}),t=Object(o.a)(e,2),a=t[0],c=t[1];return console.log("User context on mount: ",a),Object(r.useEffect)((function(){w.onAuthStateChanged((function(e){console.log("UserAuth: ",e),C(e).then((function(e){console.log("User data from auth: ",e),c({user:e})}))}))}),[]),Object(n.jsx)(F.Provider,{value:{userContext:a,setUserContext:c},children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Ie,{})})})}var Ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,280)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Te,{})}),document.getElementById("root")),Ae()}},[[208,1,2]]]);
//# sourceMappingURL=main.3b380b47.chunk.js.map